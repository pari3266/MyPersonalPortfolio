{"version":3,"file":"ngx-scrolltop.mjs","sources":["../../../projects/ngx-scrolltop/src/lib/ngx-scrolltop.core.service.ts","../../../projects/ngx-scrolltop/src/lib/ngx-scrolltop.component.ts","../../../projects/ngx-scrolltop/src/lib/ngx-scrolltop.component.html","../../../projects/ngx-scrolltop/src/lib/ngx-scrolltop.directive.ts","../../../projects/ngx-scrolltop/src/lib/ngx-scrolltop.module.ts","../../../projects/ngx-scrolltop/src/public-api.ts","../../../projects/ngx-scrolltop/src/ngx-scrolltop.ts"],"sourcesContent":["import { DOCUMENT } from '@angular/common';\nimport { Inject, Injectable } from '@angular/core';\nimport { polyfill as smoothscrollPolyfill } from 'seamless-scroll-polyfill';\nimport { NgxScrollTopMode } from './ngx-scrolltop.interface';\n\n@Injectable()\nexport class NgxScrollTopCoreService {\n  private scrolledFromTop = false;\n  private scrollOffset: number;\n  private readonly isBrowser: boolean = typeof window !== 'undefined';\n  private alreadyActivated: boolean = false;\n\n  constructor(@Inject(DOCUMENT) private document: any) {}\n\n  public onWindowScroll(mode: NgxScrollTopMode): boolean {\n    const position: number =\n      this.document.documentElement?.scrollTop || this.document.scrollingElement?.scrollTop;\n    switch (mode) {\n      case 'classic':\n        return this.classicMode(position);\n      case 'smart':\n        return this.smartMode(position);\n    }\n  }\n\n  private classicMode(position: number): boolean {\n    if (this.isBrowser && position > window.innerHeight) {\n      return true;\n    } else {\n      return false;\n    }\n  }\n\n  private smartMode(position: number): boolean {\n    let show = false;\n\n    if (position === 0) {\n      show = false;\n      this.scrolledFromTop = false;\n    }\n\n    if (this.scrolledFromTop && this.scrollOffset > position) {\n      show = true;\n    }\n\n    if (this.isBrowser && position > window.innerHeight * 2) {\n      this.scrolledFromTop = true;\n      this.scrollOffset = position;\n    }\n\n    return show;\n  }\n\n  public scrollToTop(): void {\n    if (this.isBrowser) {\n      // Kick off the polyfill for iOS Safari\n      if (!this.alreadyActivated) {\n        smoothscrollPolyfill();\n        this.alreadyActivated = true;\n      }\n      // Scroll to the top\n      window.scroll({ top: 0, left: 0, behavior: 'smooth' });\n    }\n  }\n}\n","import {\n  ChangeDetectionStrategy,\n  ChangeDetectorRef,\n  Component,\n  HostListener,\n  Input,\n  OnChanges,\n  SimpleChanges,\n} from '@angular/core';\nimport { NgxScrollTopCoreService } from './ngx-scrolltop.core.service';\nimport {\n  NgxScrollTopMode,\n  NgxScrollTopPosition,\n  NgxScrollTopTheme,\n} from './ngx-scrolltop.interface';\n\n@Component({\n  selector: 'ngx-scrolltop',\n  templateUrl: './ngx-scrolltop.component.html',\n  styleUrls: ['./ngx-scrolltop.component.scss'],\n  changeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class NgxScrollTopComponent implements OnChanges {\n  @Input() public backgroundColor: string;\n  @Input() public symbolColor: string;\n  @Input() public size: number;\n  @Input() public symbol: string;\n  @Input() public position: NgxScrollTopPosition = 'right';\n  @Input() public theme: NgxScrollTopTheme = 'gray';\n  @Input() public mode: NgxScrollTopMode = 'classic';\n\n  public show = false;\n\n  @HostListener('window:scroll')\n  public onWindowScroll(): void {\n    const show = this.core.onWindowScroll(this.mode);\n\n    // Performance boost. Only update the state if it has changed.\n    if (this.show !== show) {\n      this.show = show;\n      this.cdr.markForCheck();\n    }\n  }\n\n  public ngOnChanges(changes: SimpleChanges): void {\n    // Deprecation warning. It will be removed soon.\n    if (changes.symbol) {\n      console.error(\n        `NgxScrollTop: You are trying to set \\`${changes['symbol'].currentValue}\\` as your symbol but Input \\`[symbol]=\"'â†‘'\"\\` is deprecated now.\\n\\r`,\n        `Use \\`Content projection\\` method, like this:\\n\\r\\n\\r`,\n        `<ngx-scrolltop>${changes['symbol'].currentValue}</ngx-scrolltop>\\n\\r\\n\\r`,\n        `More info: https://github.com/bartholomej/ngx-scrolltop#symbol`,\n      );\n    }\n  }\n\n  constructor(\n    private core: NgxScrollTopCoreService,\n    private cdr: ChangeDetectorRef,\n  ) {}\n\n  public scrollToTop(): void {\n    this.core.scrollToTop();\n  }\n}\n","<button\n  *ngIf=\"show\"\n  type=\"button\"\n  role=\"button\"\n  aria-label=\"Scroll to top of the page\"\n  tabindex=\"0\"\n  class=\"scrolltop-button\"\n  #scrollTopButton\n  (click)=\"scrollToTop()\"\n  [ngClass]=\"theme\"\n  [style.left]=\"position === 'left' ? '20px' : ''\"\n  [style.backgroundColor]=\"backgroundColor\"\n  [style.width.px]=\"size\"\n  [style.height.px]=\"size\">\n  <div class=\"symbol-container\">\n    <span #ref>\n      <ng-content></ng-content>\n    </span>\n    <svg *ngIf=\"ref.childNodes.length === 0\"\n      aria-hidden=\"true\"\n      [style.fill]=\"symbolColor\"\n      focusable=\"false\"\n      role=\"img\"\n      xmlns=\"http://www.w3.org/2000/svg\"\n      viewBox=\"0 0 448 512\">\n      <path\n        d=\"M240.971 130.524l194.343 194.343c9.373 9.373 9.373 24.569 0 33.941l-22.667 22.667c-9.357 9.357-24.522 9.375-33.901.04L224 227.495 69.255 381.516c-9.379 9.335-24.544 9.317-33.901-.04l-22.667-22.667c-9.373-9.373-9.373-24.569 0-33.941L207.03 130.525c9.372-9.373 24.568-9.373 33.941-.001z\">\n      </path>\n    </svg>\n  </div>\n</button>\n","import { Directive, ElementRef, HostListener, Input } from '@angular/core';\nimport { NgxScrollTopCoreService } from './ngx-scrolltop.core.service';\nimport { NgxScrollTopMode } from './ngx-scrolltop.interface';\n\n@Directive({\n  selector: '[ngxScrollTop]',\n})\nexport class NgxScrollTopDirective {\n  @Input('ngxScrollTopMode') public mode: NgxScrollTopMode = 'classic';\n\n  private show = false;\n\n  constructor(private el: ElementRef, private core: NgxScrollTopCoreService) {\n    this.hideElement();\n  }\n\n  @HostListener('window:scroll')\n  public onWindowScroll(): void {\n    const show = this.core.onWindowScroll(this.mode);\n\n    // Performance boost. Only update the DOM when the state changes.\n    if (this.show !== show) {\n      show ? this.showElement() : this.hideElement();\n      this.show = show;\n    }\n  }\n\n  @HostListener('click')\n  public onClick(): void {\n    this.scrollToTop();\n  }\n\n  private hideElement(): void {\n    this.el.nativeElement.style.display = 'none';\n  }\n\n  private showElement(): void {\n    this.el.nativeElement.style.display = '';\n  }\n\n  private scrollToTop(): void {\n    this.core.scrollToTop();\n  }\n}\n","import { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\nimport { NgxScrollTopComponent } from './ngx-scrolltop.component';\nimport { NgxScrollTopDirective } from './ngx-scrolltop.directive';\nimport { NgxScrollTopCoreService } from './ngx-scrolltop.core.service';\n\n@NgModule({\n  declarations: [NgxScrollTopComponent, NgxScrollTopDirective],\n  imports: [CommonModule],\n  providers: [NgxScrollTopCoreService],\n  exports: [NgxScrollTopComponent, NgxScrollTopDirective],\n})\nexport class NgxScrollTopModule {}\n","/*\n * Public API Surface of ngx-scrolltop\n */\n\nexport * from './lib/ngx-scrolltop.component';\nexport * from './lib/ngx-scrolltop.directive';\nexport * from './lib/ngx-scrolltop.module';\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public-api';\n"],"names":["smoothscrollPolyfill","i1.NgxScrollTopCoreService"],"mappings":"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"}